# Time Series Recognition

## Introduction

The goal of this project is to recognize the activity of workers looking on their acceleration movements. The activities can be for instance : carrying, aim a screw, nailing, walking, sitting, jumping ... The study of the acceleration movement implies a time series recognition process.

In our situation, the time series was composed by succession of acceleration's measure (unity : **g**) of a worker. 

## The state of the art

The problematic of the human recognition through its acceleration is a well known problem. A lot of mobile applications already offer such service, especially the health applications which help to control his sportive activity, to count his steps, to measure its sleep ... However, the implemented algorithm are far to be effective. The Samsung health application barely distinguish a jump from a step ; a simple arm swinging is considered as a step.

A lot of methods have already been tried. Almost all of them rest on a simple principle : it computes a set of features of the time series and then classifies it. The most popular features are mean, standard deviation, entropy, correlation  between  axes or discrete FFT coefficients.

## How the proposed method stand out from the previous solutions


Until now, the algorithms computed a set of features without taking into account the eventually spatio-temporal shift between two time series. It was only focusing on the featurization of the time series. 

In the case of a step : a step twice bigger/faster than an other one is still a step and have the same time series structure except the spatial/temporal amplitude. 

Our solution consists of juxtaposing two time series and correct the statio-temporal shift. Then we look how similar they are, allowing small variations between them. 

## Quick idea of our method 

A first approach is to compute the distance between the time series. The *Dynamical Time Wrapping* (DTW) algorithm computes the distance and takes into account the temporal shift between times series. This distance has been designed by Eammon Keogh.
However this approach is really limited. Indeed which sense can have the distance if one did not take into account the temporal shift ? Thus, one need to consider at the same time both the spatial and the temporal shift between the times series.

Let $c=\{c_i\}_{i \in \{1, ...,n\}}$ a template of length $n$ and $s=\{s_i\}_{i \in \{1, ...,m\}}$ a time series of length $m > n$.

If the two time series have been generated by the same movement then :

c(t) = w_1 s(w_3 t + w_2) + w_0 + \epsilon(t) 

where $t$ is the time, $\epsilon$ is a small noise and $w_0, w_1, w_2, w_3$ are the spatio-temporal coefficients.

Namely : 
* $w_0$ is the floor of the segment compared to the pattern
* $w_1$ is the spatial amplitude ration
* $w_2$ is the advance ($> 0$) or the delay ($< 0$)
* $w_3$ is the speed ratio

In order to efficiently compare two time series one need to evaluate the 4 spatio-temporal coefficients, rectify the shift and compute the distances. 

The computation of the temporal coefficients is based on the path matrix. The computation of the spatial coefficients is based on a least-square regression.

To carry out the time series recognition we carried out a classification based on the computed features. The vectors to be discriminate will be composed by 6 features multiplied by the number of templates at our disposition.

## Conclusion

# Software architecture

The code is splited is 7 packages : 

* analyze : devoted to the analyze of the recognition quality, of the classifiers effectiveness and of the features relevance.
* exploitation : devoted to the classification and the featurization. That is the core of the problem.
* plotting : devoted to the plotting of all the informative graph (quality, shift, featurization ...).
* preparation : allows to prepare the data according to the correct format.
* segmentation : a complement of the \textit{preparation} package, carry out the complex operation.
* storage : allows to save and load any data thanks to the pickle library.
* utilities



